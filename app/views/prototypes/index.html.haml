%nav.navbar.navbar-fixed-top.navbar-inverse{role: "navigation"}
  / Brand and toggle get grouped for better mobile display
  .navbar-header
    %button.navbar-toggle{"data-target" => "#bs-example-navbar-collapse-1", "data-toggle" => "collapse", type: "button"}
      %span.sr-only Toggle navigation
      %span.icon-bar
      %span.icon-bar
      %span.icon-bar
    %a.navbar-brand{href: "#"} Wilson Management
  / Collect the nav links, forms, and other content for toggling
  #bs-example-navbar-collapse-1.collapse.navbar-collapse
    %ul.nav.navbar-nav#main-nav
      / %li
      /   %a{href: "#"} Activity
      %li.active
        %a{href: "#", data: { "button-text" => "Issue", "panel-div" => "-issue" } } 
          Issues
          %span.badge.badge-danger= @issues
      %li
        %a{href: "#", data: { "button-text" => "News Post", "panel-div" => "-news-post" } } News
      %li
        %a{href: "#", data: { "button-text" => "Document", "panel-div" => "-document" } } Documents
      %li
        %a{href: "#", data: { "button-text" => "User", "panel-div" => "-user" } } Users
    %ul.nav.navbar-nav.navbar-right
      %li.dropdown
        %a.dropdown-toggle#user-name{"data-toggle" => "dropdown", href: "#" }
          Jon Smith
          %b.caret
        %ul.dropdown-menu
          %li
            %a{href: "#"} Settings
          %li.divider
          %li
            %a{href: "#"} Sign Out
  / /.navbar-collapse

%section#console
  %nav#nav
    %form.nav-search-form.form-inline
      .form-group
        = text_field_tag :search, "", class: "form-control search-field", placeholder: "Filter Properties"
      = link_to raw("<i class='glyphicon glyphicon-plus'></i>"), "#", class: "btn btn-default circle", id: "new-property"
      %ul
        %li.active= link_to "All Properties", "#", data: { listfilter: "all" }
    .nav-search-results
      .scrollable
        %ul
          %li= link_to raw("Clarendon Hill <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Cliffmont <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Colonial Arms <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Davenport Commons <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Jamaica Pond Estate <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Lawrence Manor <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Marshall Place <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Old Medford High <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Parsons Field <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Saint Paul Arms <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Strathwick <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }
          %li= link_to raw("Willow House <button class='btn btn-default btn-xs pull-right circle property-settings'><i class='glyphicon glyphicon-cog'></i></button>"), "#", data: { listfilter: "property" }

  .issues.content-pane.content-wrapper{ data: { listfilter: "all" } }
    .console-search
      %form.console-search-form
        .form-group
          = text_field_tag :search, "", class: "form-control search-field", placeholder: "Search"
        = link_to raw("<i class='glyphicon glyphicon-filter'></i>"), "#", class: "btn btn-default", id: "filter-items", data: { toggle: "dropdown" }
        %ul.dropdown-menu#filter-dropdown{style: "position: absolute; right: 0;"}
          %li.issue= link_to "My Issues", "#"
          %li.issue= link_to "Unassigned Issues", "#"
          %li.issue= link_to "All Open Issues", "#"
          %li.user= link_to "All Users", "#"
          %li.user= link_to "Managers", "#"
          %li.user= link_to "Residents", "#"
          %li.news-post= link_to "Sort by Date", "#"
          %li.news-post= link_to "Sort by Title", "#"
          %li.news-post= link_to "Sort by Property", "#"
        = link_to raw("<i class='glyphicon glyphicon-plus'></i>"), "#", class: "btn btn-default", id: "add-item", data: { "new-div" => "#new-issue" }
      %section.console-search-results
        .scrollable
          #doc-filters
            .header{style: "border-top: none; padding: 22px 10px 17px 20px;"} Filter by Category
            .categories
              .category{data: { filterText: "category1" } }
                .circle.pull-left.circle-info 
                Meeting Minutes
              .category{data: { filterText: "category2" } }
                .circle.pull-left.circle-success 
                Financials
              .category{data: { filterText: "category3" } }
                .circle.pull-left.circle-danger
                Rules & Regulations
              .category{data: { filterText: "category4" } }
                .circle.pull-left.circle-warning
                Misc.
          - issues = ["Paint Stairway", "Fix Rear Windows", "Hallway Lights", "Patio Stones Broken", "Outdoor Lighting", "Lobby Furniture Cleaning", 
                      "Fireplace Service", "Broken Deck Furniture", "Mulching", "Skylight Cleaning", "Stairway Railing"]
          - details = ["The stairway drywall needs repainting.", 
                       "The windows at the back of McGill Hall...",
                       "The second floor light is out.",
                       "Several stones on The walkway leading into...",
                       "We received a quote for new outdoor lighting...",
                       "The lobby furniture needs its quaterly...",
                       "Fireplace needs to be serviced",
                       "Some of the deck furniture needs to be...",
                       "The mulch in the flower beds could use...",
                       "The skylight in Faber Hall is rather...",
                       "The hand-rail in the West stairway is..."]
          - (0..@issues).each do |n|
            .issue.console-search-result-item{class: ("all" if n <= @issues - 5) }
              .subject.preview.line-1
                = issues[n % issues.length]
              .date.muted.lighter
                - timestamp = Time.now - 2*n*60*60*24
                = timestamp.strftime("%m/%d/%Y") 
              .preview.line-1
                = details[n % details.length]
              - if n < 4
                .label.label-success
                  New
              - else
                .label.label-info
                  In Progress
              .label.label-primary
                Clarendon Hill
              - if n < 4
                .label.label-danger
                  Unassigned
              - else
                .label.label-default
                  Jon Smith

          - newsTitles = ["Lobby Renovations Complete", "New Deck Furniture", "Update on HVAC System", "Annual Review Meeting", 
                          "Fourth of July Celebration", "Swimming Pool Opens", "Message to All Pet Owners"]
          - (1..6).each do |n|
            .news-post.console-search-result-item{class: ("all" if n <= 3) }
              .subject.preview.line-1
                = newsTitles[n]
              .date.muted.lighter
                = Time.now.to_formatted_s(:short)
              .preview.line-2
                Preview of news post content. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

          - (1..4).each do |n|
            .user.console-search-result-item{class: ("all" if n <= 2) }
              .pull-left
                = image_tag "http://placehold.it/60x60", class: "img-circle"
              %strong.name.preview.line-1
                =["Jon Smith", "Nick Jones", "Sam Taylor", "Monica Reed"][n-1]
              .preview.line-1
                = link_to "email@example.com", "mailto:email@example.com"
              .phone
                555-555-5555
              .role.label.label-success
                Manager
          - (1..8).each do |n|
            .user.console-search-result-item{class: ("all" if n <= 6) }
              .pull-left
                = image_tag "http://placehold.it/60x60", class: "img-circle"
              %strong.name.preview.line-1
                =["James Green", "Jane Folders", "Marcus Xavier", "Hugo Lander", "Alan Voyers", "Timothy Allen", "Fred Bore", "Randolph Saunders"][n-1]
              .preview.line-1
                = link_to "email@example.com", "mailto:email@example.com"
              .phone
                555-555-5555
              .role.label.label-info
                Resident

    .console-viewport
      .console-viewport-container
        .action-pane-container
          .action-pane
            %i.glyphicon.glyphicon-tag{style: "font-size: 100px; opacity: 0.3;"}
            %br
            %p{style: "font-size: 30px; font-weight: 500; opacity: 0.3;"} No Issue Selected
            / %p= link_to "New Issue", "#", class: "btn btn-primary add-item"

    #new-issue{style: "display: none;"}
      = render "new_issue_form"
    #new-news-post{style: "display: none;"}
      = render "new_news_form"
    #new-document{style: "display: none;"}
      .scrollable
        .pad-20
          %h3.mt-0 New Document
          = link_to "Create", "#", class: "btn btn-primary cancel"
          = link_to "Cancel", "#", class: "btn btn-default cancel"
    #new-user{style: "display: none;"}
      = render "new_user_form"
    #edit-issue{style: "display: none;"}
      = render "edit_issue_form"
    #edit-news-post{style: "display: none;"}
      = render "edit_news_form"
    #edit-document{style: "display: none;"}
      .scrollable
        .pad-20
          %h3.mt-0 Edit Document
          = link_to "Update", "#", class: "btn btn-primary cancel"
          = link_to "Cancel", "#", class: "btn btn-default cancel"
    #edit-user{style: "display: none;"}
      = render "edit_user_form"
          

    #empty-issue{style: "display: none;"}
      .console-viewport-container
        .action-pane-container
          .action-pane
            %i.glyphicon.glyphicon-tag{style: "font-size: 100px; opacity: 0.3;"}
            %br
            %p{style: "font-size: 30px; font-weight: 500; opacity: 0.3;"} No Issue Selected
    #empty-news-post{style: "display: none;"}
      .console-viewport-container
        .action-pane-container
          .action-pane
            %i.glyphicon.glyphicon-bullhorn{style: "font-size: 100px; opacity: 0.3;"}
            %br
            %p{style: "font-size: 30px; font-weight: 500; opacity: 0.3;"} No Post Selected
            / %p= link_to "New News Post", "#", class: "btn btn-primary add-item"
    #empty-document{style: "display: none;"}
      .docs-search-form
        %form.docs-search-form
          .form-group#search-field
            = text_field_tag :search, "", class: "form-control search-field", placeholder: "Search"
          = link_to raw("<i class='glyphicon glyphicon-sort'></i>"), "#", class: "btn btn-default", id: "sort-docs"
          = link_to raw("<i class='glyphicon glyphicon-plus'></i>"), "#", class: "btn btn-default", id: "add-doc"
          #new-doc-panel
            .pad-20
              %h4 New Document
              .form-group
                = text_field_tag :title, "", class: "form-control", placeholder: "Title"
              .form-group
                = text_field_tag :description, "", class: "form-control", placeholder: "Short Description"
              .form-group
                = file_field_tag :file
              = link_to "Upload", "#", class: "btn btn-primary", id: "submit-add-doc"
              = link_to "Cancel", "#", class: "btn btn-default", id: "cancel-add-doc"
      #list-docs
        .scrollable
          - (1..14).each do |n|
            - if n > 10
              - label_class = 'label-warning'
              - category = 4
              - category_text = "Misc"
            - elsif n > 7
              - label_class = 'label-danger'
              - category = 3
              - category_text = "Rules & Regulations"
            - elsif n > 4
              - label_class = 'label-success'
              - category = 2
              - category_text = "Financials"
            - else
              - label_class = 'label-info'
              - category = 1
              - category_text = "Meeting Minutes"
            .doc.console-search-result-item{class: ("all" if n%2 == 0), data: { filtercategory: "category#{category}" } }
              .pull-left{style: "width: 50%;"}
                .file-type-icon.file-type-icon-pdf
                %strong.title.preview.line-1.mt-0
                  =["Welcome Letter", "Board Meeting Minutes", "Landscape Proposal", "Letter From NGPE", "Lobby Rennovation Summary",
                    ""][n-1]
                .preview.line-1
                  Document description text
                .label{class: label_class}
                  = category_text
              .pull-right.actions
                = link_to raw("<i class='glyphicon glyphicon-cloud-download'></i>"), "#", class: 'btn btn-default'
                = link_to raw("<i class='glyphicon glyphicon-trash'></i>"), "#", class: 'btn btn-default'
              .clearfix
    #empty-user{style: "display: none;"}
      .console-viewport-container
        .action-pane-container
          .action-pane
            %i.glyphicon.glyphicon-user{style: "font-size: 100px; opacity: 0.3;"}
            %br
            %p{style: "font-size: 30px; font-weight: 500; opacity: 0.3;"} No User Selected
            / %p= link_to "New User", "#", class: "btn btn-primary add-item"