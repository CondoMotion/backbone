%h2 Sign up
= form_for(resource, :as => resource_name, :url => registration_path(resource_name)) do |f|
  .form-group
    = f.label :name
    = f.text_field :name, :autofocus => true, class: "form-control"
  .form-group
    = f.label :email
    = f.email_field :email, class: "form-control"
  .form-group
    = f.label :password
    = f.password_field :password, class: "form-control"
  .form-group
    = f.label :password_confirmation
    = f.password_field :password_confirmation, class: "form-control"

  - company = resource.build_owned_company
  - address = company.build_address

  = f.fields_for :owned_company do |cf|
    %h4 Company Info
    .form-group
      = cf.label :name
      = cf.text_field :name, class: "form-control"
    .form-group
      = cf.label :subdomain
      = cf.text_field :subdomain, class: "form-control"
    .form-group
      = cf.label :phone
      = cf.text_field :phone, class: "form-control"
    .form-group
      = cf.label :website
      = cf.text_field :website, class: "form-control"

    = cf.fields_for :address do |af|
      .form-group
        = af.label :address1
        = af.text_field :address1, class: "form-control"
      .form-group
        = af.label :address2
        = af.text_field :address2, class: "form-control"
      .row
        .col-sm-4
          .form-group
            = af.label :city
            = af.text_field :city, class: "form-control"
        .col-sm-4
          .form-group
            = af.label :state
            = af.text_field :state, class: "form-control"
        .col-sm-4
          .form-group
            = af.label :zip
            = af.text_field :zip, class: "form-control"
  = f.submit "Sign up", class: "btn btn-primary"
= render "devise/shared/links"